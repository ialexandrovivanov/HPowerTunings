@using HPowerTunings.ViewModels.EmployeeModels
@using System.Linq
@model ICollection<EmployeeStartEndViewModel>

@{
    ViewData["Title"] = "EmployeeStatistics";
    Layout = "~/Views/Shared/_LayoutBoss.cshtml";
}
<div style="padding-top:80px"></div>
<h3>Employee Statistics</h3>
<div class="container-fluid justify-content-center text-center" style="max-width:600px;">
    <hr style="max-width:520px" />
    @foreach (var item in Model)
    {
        <div style="background-color:cornsilk; padding-top:10px; padding-right:10px; padding-left:10px;
             padding-bottom:10px; border-top-left-radius:6px; border-top-right-radius:6px">
            <h5 style="color:indigo"><strong>@item.FullName</strong></h5>
        </div>
        <div style="background-color:cadetblue; padding-top:10px;
             padding-bottom:10px; padding-left:10px; padding-right:10px; border-bottom-left-radius:6px;">
            <p>@item.Possition</p>
            <p>@item.Email</p>
            <p>@item.PhoneNumber</p>
            <h5 style="color:indigo"><strong>Repairs:</strong></h5>
            @foreach (var repair in item.Repairs)
            {
                <p>Repair name: <strong>@repair.RepairName</strong></p>
            }
            <p>Count of finalized repairs:
                <strong>@item.Repairs.Where(r => r.IsRepairPanding == false).Count()</strong>
            </p>
            <p>Sum of finalized repairs:
                <strong>@item.Repairs.Where(r => r.IsRepairPanding == false).Sum(r => r.RepairPrice)</strong>
            </p>
        </div>

        <p></p>
        }
    </div>
    <div style="height:80px"></div>
