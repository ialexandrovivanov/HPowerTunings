@using HPowerTunings.ViewModels.Appointment
@model CreateAppointmetModel

<head>
    <script src="~/css/js/jquery-3.4.1.min.js"></script>
    <script>
        $(document).ready(function () {
            $('#go').click(function () {
                $('.spinner').css('display', 'block');
            });
        });
    </script>
</head>

<div class="d-flex flex-row container-fluid justify-content-center text-center mt-5 pt-5" style="width:840px">
    <div class="container-fluid justify-content-center text-center" style="width:425px">
        <div class="container-fluid justify-content-center text-center"
             style="background-color:gainsboro; padding-bottom:10px;
             padding-top:10px; padding-left:10px; padding-right:10px; border-radius:6px">
            <h3>My appointments</h3>
        </div>
        <div class="mb-5"></div>

        @foreach (var item in ViewData["MyAppointments"] as List<MyAppointmentsViewModel>)
        {
            <div style="background-color:powderblue; padding-bottom:90px;padding-left:10px;
                  padding-right:10px;padding-top:10px;border-radius:6px">
                @if (item.IsAppointmentPending == true)
                {
                    <p class="mt-5">You have a <h5><strong style="color:indigo">pending</strong>
                            </h5> appointment for car service with desired date: 
                    </p>
                }
                else
                {
                    <p class="mt-5">You have an <strong>appointment</strong> for car service on: </p>
                }


                <h5><strong style="color:indigo">@item.AppointmentDate</strong></h5>
                <p><h5><strong style="color:indigo">@item.AppointmentDate.Date.DayOfWeek</strong></h5></p>
                <p>With problem description  : <strong>@item.ProblemDescription</strong></p>
            </div>
            <div style="height:20px"></div>
        }
    </div>
    <div style="width:375px">
        <form id="account" method="post">
            <div class="form-group">
                <div class="container-fluid justify-content-center text-center"
                     style="background-color:gainsboro; padding-bottom:10px;
             padding-top:10px; padding-left:10px; padding-right:10px; border-radius:6px">
                    <h3>Create an appointment</h3>
                </div>
            </div>
            <div class="form-group">
                <label>Problem description</label>
                <textarea rows="9   " cols="30" asp-for="@Model.Description" class="form-control"></textarea>
                <span asp-validation-for="@Model.Description" class="text-danger"></span>
                <div>
                    <label>Choose desired date</label>
                    <input type="date" asp-for="@Model.AppointmentDate" class="form-control" />
                    <span asp-validation-for="@Model.AppointmentDate" class="text-danger"></span>
                </div>
                <div>
                    <label>Reg. number</label>
                    <input type="text" asp-for="@Model.RegNumber" class="form-control" placeholder="For registered cars only" />
                    <span asp-validation-for="@Model.RegNumber" class="text-danger"></span>
                </div>
            </div>
            <div>
                <button type="submit" class="mt-3 btn btn-outline-primary">Proceed</button>
            </div>
        </form>
        <div class="spinner" style="display:none">
            <div class="center-div">
                <div class="inner-div">
                    <div class="loader"></div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
